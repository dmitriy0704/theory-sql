# Типы данных и встроенные функции

## Числовые типы

___Группа числовых типов включает:___

- Целочисленные типы;
- Вещественные типы формата с фиксированной точкой;
- Вещественные типы формата с плавающей точкой;
- Последовательные типы.

- Целочисленными типами являются: smallint, integer, bigint. Данные этих
  типов могут принимать только целочисленные значения, которые должны
  входить в заданный диапазон.
- К вещественным типам формата с фиксированной точкой относятся:
  numeric(n,m) и decimal(n,m). Эти типы являются абсолютно идентичными по своим
  характеристикам. Они имеют два параметра: п - общее число десятичных разрядов
  в записи числа m - число десятичных разрядов справа от десятичной точки.
  Данные
  этого типа обладают высокой точностью, но операции с такими данными
  выполняются медленнее по сравнению с другими числовыми типами.
- Вещественным типами формата с плавающей точкой являются: real
  и double precision. Эти типы могут использоваться при работе с данными,
  обозначающими значение веса, времени и т.д.
- Последними из числовых типов являются последовательные: smallserial,
  serial, bigserial. Это особые типы, которые присваиваются столбцам,
  являющимся суррогатными ключами таблиц.

___Размеры чисел:___

- smallint - 2 байта
- integer - 4 байта
- bigint - 8 байт
- numeric(n,m) - Переменный
- decimal(n,m) - Переменный
- real -4 байта
- double precision - 8 байт
- smallserial - 2 байта
- serial - 4 байта
- bigserial - 8 байт

**_Функции для работы с данными типами_**

- ROUND(x,n) - Выполняет округление числа х до ближайшего числа с заданной
  точностью п
- TRUNC(x, n)  - Усекает (отбрасывает) значащие цифры числа х справа без
  округления, с заданной точностью п
- DIV(n,m) - Целая часть результата при делении n на m
- MOD(n,m) - Возвращает остаток от деления n на m
- POWER(x,n) - Возводит число х в степень п
- SQRT(x) - Возвращает квадратный корень от числа х
- EXP(n) - Возвращает значение экспоненты (результат возведения
  е=2,718281 в степень п)
- LN(n) - Вычисляет натуральный логарифм от числа п
- LOG(n,m) - Производит вычисление логарифма числа и по основанию т
- FACTORIAL(n) - Факториал числа п
- RANDOM() - Возвращает случайное значение в диапазоне 0.0 <= х < 1.0
- SETSEED(Y) - - Задает начальное значение для последующих random ()
  вызовов; аргумент у должен быть в диапазоне от -1.0 до 1.0 включительно.
- GENERATE SERIES (start,stop[,step]) - Генерирует ряд значений от start до stop
  с шагом, равным
  step. Step по умолчанию равен 1; start, stop, step могут иметь
  тип integer или numeric

## Символьные типы

**_Символьными типами являются:_**

- `Строки фиксированной длины:`  
  _Тип строки фиксированной длины имеет обозначение character(n), где n -
  максимальное число символов, которое может содержать строка. Для обозначения
  этого типа обычно используется псевдоним char(n)._   
  Если присваиваемое значение будет короче заявленной длины п, то остальные
  разряды будут заполнены пробелами. Добавленные пробелы являются семантически
  незначимыми и не учитываются при сравнении двух значений, имеющих тип
  character(n).
- `Строки переменной длины:`  
  _Тип строки переменной длины имеет обозначение character varying(n), где п -
  максимальное число символов, которое может содержать строка. Для обозначения
  этого типа обычно используется псевдоним varchar(n)._
  Отличием от предыдущего типа является то, что при присвоении значения,
  которое будет короче заявленной длины и, дополнение пробелами не производится.
- `Строки неограниченной длины:`
  В PostgreSQL можно использовать тип строки неограниченной длины, который
  имеет обозначение text.
  Конечные пробелы являются семантически значимыми в значениях, имеющих типы
  varchar(n) и text.

**_Функции для работы с данными символьных типов_**

- `CONCAT(strl, str2...stri)` - Выполняет конкатенацию строк str1, str2...stri
- `UPPER (str)` - Осуществляет преобразование строки str в верхний регистр
- `LOWER (str)` - Осуществляет преобразование строки str в нижний регистр
- `INITCAP (str)` - Осуществляет преобразование начальных букв каждого слова в
  верхний регистр
- `LPAD(str, n [, char])` - Возвращает строку str, дополненную слева
  символом char, до достижения строкой длины в п символов. Если char
  отсутствует, то добавляет пробелы
- `RPAD(str, n [, char])` - Возвращает строку str, дополненную справа символом
  char, до достижения строкой длины в n символов. Если char отсутствует, то
  добавляет пробелы
- `LTRIM(str [, set])` - Удаляет все символы с начала строки до первого символа,
  которого нет в наборе символов set. Если set отсутствует, то удаляет пробелы
- `RTRIM(str [, set])` - Удаляет символы, начиная от конца строки до первого
  символа, которого нет в наборе символов set. Если set отсутствует, то удаляет
  пробелы
- `LENGTH(str)` - Возвращает длину строки str в символах
- `REPLACE(str, search str [, replacestr])` - Осуществляет поиск образца search
  str в строке str и каждое найденное вхождение заменяет на replace_str
- `SUBSTRING (str[FROM n][FOR m] )` - Возвращает фрагмент строки str, начиная с
  символа п длиной m
- `STRPOS(str, search str)` - Возвращает позицию первого вхождения строки search
  str в строку str
- `CHR(n)` - Возвращает символ по его коду

## Типы даты и времени

Характеристики типов даты и времени:

- `DATE` - 4 байта - Дата без указания времени
- `TIME[(р)]` - 8байт - Время суток без указания часового пояса, с точностью р после
  точки в секундах

......


Прибавление целого значения п к значению типа Date эквивалентно при-
бавлению п дней к дате. Если в выражении участвует строка, содержащая
значение даты или времени, то ее рекомендуется преобразовать к значению
соответствующего типа, используя операцию приведения типа. Эта опера-
ция осуществляется путем размещения символа двойного двоеточия (::) и
имени типа, к которому нужно привести строковое значение, например
'05-4-2023'::date.

```
# Вывод заданного значения даты, увеличенного на 45 дней
SELECT '05-4-2023'::DATE + 45 as nev_date;
```

### Тип INTERVAL

Синтаксис:
```
INTERVAL [FIELDS][( р)]
```
где:
- FIELDS — значение интервала;
- р — точность после точки в секундах.